---
title: Vue-Cli3ç›¸å…³ç¬”è®°ï¼ˆæŒç»­æ›´æ–°ï¼‰
author: Cynthia
categories:
  - Vue
  - æ–‡æ¡£æ€»ç»“
  - æµ‹è¯•

date: 2018-12-05 13:15:36
tags:
---

ğŸ°

<!--more-->

<blockquote class="blockquote-center">
å®˜æ–¹æ–‡æ¡£ï¼šhttps://cli.vuejs.org/zh/guide/
</blockquote>

## vue.config.js

> é…ç½®æ–‡æ¡£ï¼š<https://cli.vuejs.org/zh/config/>

### ä¸€ä¸ªå¸¸ç”¨çš„é…ç½®

```js
// vue.config.js
module.exports = {
  baseUrl: '/',
  outputDir: 'dist', // æ‰“åŒ…çš„ç›®å½•
  lintOnSave: true, // åœ¨ä¿å­˜æ—¶æ ¡éªŒæ ¼å¼
  productionSourceMap: false, // ç”Ÿäº§ç¯å¢ƒæ˜¯å¦ç”Ÿæˆ SourceMap
  devServer: {
    open: true, // å¯åŠ¨æœåŠ¡åæ˜¯å¦æ‰“å¼€æµè§ˆå™¨
    host: '0.0.0.0',
    port: 8080, // æœåŠ¡ç«¯å£
    https: false,
    hotOnly: false,
    proxy: null, // è®¾ç½®ä»£ç†
    before: app => {}
  },
}
```



### vue-cli@3

æœ¬èº«é…ç½®æ–¹é¢æ²¡æœ‰å•¥ç‰¹åˆ«å¥½è¯´çš„ï¼Œå®˜æ–¹[æ–‡æ¡£](https://link.juejin.im?target=https%3A%2F%2Fcli.vuejs.org%2Fzh%2Fguide%2F)å·²ç»å†™å¾—å¾ˆè¯¦ç»†äº†ã€‚

è¿™æ¬¡æ›´æ–°åŸºæœ¬ä¸Šå°±æ˜¯åŸºäº [webpack-chain](https://link.juejin.im?target=https%3A%2F%2Fgithub.com%2Fneutrinojs%2Fwebpack-chain) æŠŠä¹‹å‰çš„ webpack é…ç½®è¿ç§»äº†ä¸€éï¼Œå› ä¸º`vue-cli`å¸®ä½ åšäº†å¾ˆå¤šé»˜è®¤é…ç½®ï¼Œæ‰€æœ‰å¯ä»¥çœå»ä¸€äº›ä»£ç ã€‚å½“ç„¶è¿™ç§`out-of-the-box`çš„å·¥å…·åˆ©å¼Šä¹Ÿå¾ˆæ˜æ˜¾ï¼Œå®ƒèƒ½å¿«é€Ÿä¸Šæ‰‹ï¼Œå¤§éƒ¨åˆ†ç®€å•åœºæ™¯æ— éœ€ä»»ä½•é¢å¤–é…ç½®åŸºæœ¬å°±èƒ½ç”¨äº†ã€‚

ä½†å¯¹äºå¤æ‚åº¦é«˜çš„æˆ–è€…è‡ªå®šä¹‰æ€§å¼ºçš„é¡¹ç›®æ¥è¯´ï¼Œé…ç½®å¤æ‚åº¦å¯èƒ½æ²¡æœ‰å‡å°‘å¤ªå¤šã€‚å®ƒè¦æ±‚ä½ ä¸ä»…è¦å¯¹ webpack æˆ–è€…ç›¸å…³å·¥ç¨‹åŒ–çš„ä¸œè¥¿å¾ˆå¾ˆç†Ÿæ‚‰ï¼Œä½ è¿˜è¦å¯¹`vue-cli`åšçš„ä¸€äº›é»˜è®¤é…ç½®å’Œå‚æ•°ä¹Ÿæœ‰æœ‰ä¸€å®šäº†è§£ï¼Œæ—¶ä¸æ—¶è¦å»çœ‹ä¸€ä¸‹æºç å®ƒåˆ°åº•å¹²äº†å•¥ï¼Œæœ‰çš„æ—¶å€™å®ƒçš„ä¸€äº› plugin å‡ºç°äº†é—®é¢˜è¿˜ä¸å¤ªå¥½è§£å†³ã€‚

è€Œä¸”è¯´å®è¯ `webpack-chain` çš„ä¹¦å†™ä¹Ÿæ˜¯æœ‰äº›é—¨æ§›çš„ï¼Œå¤§éƒ¨åˆ†æƒ…å†µä¸‹æˆ‘ä¹Ÿå¾ˆéš¾ä¿è¯è‡ªå·±çš„é…ç½®å†™å¯¹çš„ï¼Œè¿˜å¥½å®˜æ–¹æä¾›äº†`inspec`åŠŸèƒ½ï¼Œèƒ½è®©é…ç½®ç®€å•äº†ä¸å°‘ã€‚

**å½“ä½ æƒ³çŸ¥é“è‡ªå·±çš„ `vue-config.js` é‡Œçš„é…ç½®åˆ°åº•å¯¹ä¸å¯¹çš„æ—¶å€™**ï¼Œä½ å¯ä»¥åœ¨å‘½ä»¤è¡Œé‡Œæ‰§è¡Œ`vue inspect > output.js`,å®ƒä¼šå°†ä½ æœ€ç»ˆç”Ÿæˆçš„`config`å±•ç°åœ¨`output.js`ä¹‹ä¸­ï¼Œä¸è¿‡å®ƒé»˜è®¤æ˜¾ç¤ºçš„æ˜¯å¼€å‘ç¯å¢ƒçš„é…ç½®ã€‚å¦‚æœä½ æƒ³æŸ¥çœ‹å…¶å®ƒç¯å¢ƒçš„é…ç½®å¯ä»¥é€šè¿‡`vue inspect --mode production > output.js`ã€‚åœ¨å†™æ„å»ºé…ç½®çš„æ—¶å€™è¿™ä¸ªåŠŸèƒ½å¾ˆæœ‰å¸®åŠ©ï¼ŒåŒæ—¶ä¹Ÿèƒ½å¸®åŠ©ä½ äº†è§£`vue-cli`åœ¨æ„å»ºæ—¶åˆ°åº•å¸®ä½ åšäº†äº›ä»€ä¹ˆã€‚



è¿™é‡Œè¿˜æœ‰ä¸€ä¸ªé»‘ç§‘æŠ€ï¼Œçœ‹è¿‡æˆ‘ä¹‹å‰æ–‡ç« çš„å°ä¼™ä¼´åº”è¯¥è¿˜æœ‰å°è±¡ï¼Œæˆ‘ä¸€èˆ¬åœ¨å¼€å‘ç¯å¢ƒæ˜¯**ä¸ä½¿ç”¨è·¯ç”±æ‡’åŠ è½½**çš„ï¼Œå› ä¸ºè¿™æ ·ä¼šå¯¼è‡´çƒ­æ›´æ–°é€Ÿåº¦å˜æ…¢ï¼Œå…·ä½“çš„å¯ä»¥çœ‹ä¹‹å‰çš„ [æ–‡ç« ](https://link.juejin.im?target=https%3A%2F%2Fpanjiachen.gitee.io%2Fvue-element-admin-site%2Fzh%2Fguide%2Fadvanced%2Flazy-loading.html%23%25E8%25B7%25AF%25E7%2594%25B1%25E6%2587%2592%25E5%258A%25A0%25E8%25BD%25BD)ï¼Œåœ¨`vue-cli@3`ä¸­å¯ä»¥æ›´ç®€å•çš„å®ç°

ä½ åªè¦åœ¨`.env.development`ç¯å¢ƒå˜é‡é…ç½®æ–‡ä»¶ä¸­è®¾ç½®`VUE_CLI_BABEL_TRANSPILE_MODULES:true`å°±å¯ä»¥äº†ã€‚

å®ƒçš„å®ç°é€»è¾‘å’ŒåŸç†ä¸ä¹‹å‰è¿˜æ˜¯ä¸€æ ·çš„ï¼Œè¿˜æ˜¯åŸºäº [plugins babel-plugin-dynamic-import-node](https://link.juejin.im?target=https%3A%2F%2Fgithub.com%2Fairbnb%2Fbabel-plugin-dynamic-import-node) æ¥å®ç°çš„ã€‚ä¹‹æ‰€ä»¥åœ¨`vue-cli`ä¸­åªéœ€è¦è®¾ç½®ä¸€ä¸ªå˜é‡å°±å¯ä»¥äº†ï¼Œæ˜¯å€Ÿç”¨äº†`vue-cli`å®ƒçš„é»˜è®¤é…ç½®ï¼Œå®ƒå¸®ä½ ä»£ç éƒ½å†™å¥½äº†ã€‚é€šè¿‡é˜…è¯» [æºç ](https://link.juejin.im?target=https%3A%2F%2Fgithub.com%2Fvuejs%2Fvue-cli%2Fblob%2Fdev%2Fpackages%2F%40vue%2Fbabel-preset-app%2Findex.js) å¯çŸ¥ï¼Œ`vue-cli`ä¼šé€šè¿‡`VUE_CLI_BABEL_TRANSPILE_MODULES`è¿™ä¸ªç¯å¢ƒå˜é‡æ¥åŒºåˆ†æ˜¯å¦ä½¿ç”¨`babel-plugin-dynamic-import-node`ï¼Œæ‰€ä»¥æˆ‘ä»¬åªè¦å¼€å…¶å®ƒå°±å¯ä»¥ã€‚è™½ç„¶å®ƒçš„åˆè¡·æ˜¯ä¸ºäº†å•å…ƒæµ‹è¯•çš„ï¼Œä½†æ­£å¥½æ»¡è¶³äº†æˆ‘ä»¬çš„éœ€æ±‚ã€‚





